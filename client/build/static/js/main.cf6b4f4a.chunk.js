(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{42:function(e,t,a){e.exports=a(56)},47:function(e,t,a){},48:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),i=a.n(c),l=(a(47),a(27)),o=a(28),u=a(15),s=a(40),m=a(38),f=(a(48),a(6)),p=a.n(f),d=a(8),b=a(9),h=a(37),k=a(60),v=a(61),E=a(62),y=a(64),j=a(63),g=a(35);function w(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)("Custom"),l=Object(b.a)(i,2),o=l[0],u=l[1],s=Object(n.useState)(""),m=Object(b.a)(s,2),f=m[0],w=m[1],O=["Mountain","Hybrid/Comfort","Road","Triathlon/Time Trial","BMX/Trick","Commuting","Cyclocross","Track Bike/Fixed Gear","Tandem","Adult Trike","Folding","Kids","Beach Cruiser","Recumbent","Custom"],C=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:isNaN(t.target.value)?(console.log("You have some symbols that mustn't be here"),t.target.value=f):w(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bike_name:a,bike_type:o,bike_price:f})},!(a&&o&&f)){e.next=7;break}return e.next=4,fetch("/api/newbike",n).catch((function(e){return e}));case 4:window.location.reload(!1),e.next=8;break;case 7:console.log("field is empty");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(k.a,{className:"create_new_bike main-block"},r.a.createElement("h3",null,r.a.createElement("span",{role:"img","aria-label":"sx-a11y/accessible-emoji"},"\ud83e\udd11"),"Create new rent"),r.a.createElement(k.a,{className:"item_menu"},r.a.createElement(v.a,null,r.a.createElement(E.a,null,r.a.createElement("p",{className:"d-inline"},"Bike name"),r.a.createElement(y.a,{type:"text",placeholder:"Input bike name","aria-label":"Input bike name",onChange:C})),r.a.createElement(E.a,null,r.a.createElement("p",{className:"d-inline"},"Bike type"),r.a.createElement(j.a,{title:o,onSelect:x,variant:"light"},O.map((function(e,t){return r.a.createElement(h.a.Item,{eventKey:e,key:t},e)})))),r.a.createElement(E.a,{lg:"2"},r.a.createElement("p",{className:"d-inline"},"Bike Price"),r.a.createElement(y.a,{type:"text",placeholder:"00.00","aria-label":"Input bike price",onChange:N})),r.a.createElement(E.a,{lg:"2"},r.a.createElement("br",null),r.a.createElement(g.a,{variant:"success",className:"w-100",onClick:_},"Submit rent")))))}a(55);function O(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],c=t[1],i=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.getAttribute("data-id"),n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})},e.next=4,fetch("/api/availablingBike",n);case 4:window.location.reload(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=Object(n.useCallback)((function(){try{fetch("/api/rentbikes").then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return e}))}catch(e){}}),[]);return Object(n.useEffect)((function(){l()}),[l]),r.a.createElement(k.a,{className:"list_rent main-block"},r.a.createElement("h3",null,r.a.createElement("span",{role:"img","aria-label":"sx-a11y/accessible-emoji"},"\ud83d\ude0e"),"Your rent(",a.length,")"),a.map((function(e,t){var a=e.bike_name,n=e.bike_type,c=e.rent_hours,l=e.bike_price;return c>20?l=l*c/2:l*=c,r.a.createElement(k.a,{className:"item_menu item_list",key:t},r.a.createElement(v.a,null,r.a.createElement(E.a,{className:"d-flex justify-content-between"},r.a.createElement("p",{className:"my-auto font-italic"},a," / ",n," / $",l,"(",c," hours)"),r.a.createElement(g.a,{variant:"danger",className:"rentCancel",onClick:i,"data-id":e._id},"Cancel rent"))))})))}var C=Object(n.createContext)({hours:1,bikeId:null,rending:function(){}});function x(){for(var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(1),l=Object(b.a)(i,2),o=l[0],u=l[1],s=Object(n.useContext)(C),m=[],f=1;f<=24;f++)m.push(f);var h=m.map((function(e,t){return r.a.createElement("option",{key:t},e)})),j=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.getAttribute("data-id"),n={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})},e.next=4,fetch("/api/deleteBike",n);case 4:window.location.reload(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.getAttribute("data-id"),n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,rideHours:o})},e.next=4,fetch("/api/rentingBike",n);case 4:s.rending(o,a),window.location.reload(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=Object(n.useCallback)((function(){try{fetch("/api/availablebikes").then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return e}))}catch(e){}}),[]);return Object(n.useEffect)((function(){x()}),[x]),r.a.createElement(k.a,{className:"list_bike main-block"},r.a.createElement("h3",null,r.a.createElement("span",{role:"img","aria-label":"sx-a11y/accessible-emoji"},"\ud83d\udeb2"),"Available bicycle(",a.length,")"),a.map((function(e){var t=e.bike_name,a=e.bike_type,n=e.bike_price;return r.a.createElement(k.a,{className:"item_menu item_list",key:e._id},r.a.createElement(v.a,null,r.a.createElement(E.a,{className:"d-flex justify-content-between"},r.a.createElement("p",{className:"my-auto font-italic"},t," /",a," / $",n," /",r.a.createElement(y.a,{as:"select",className:"d-inline",custom:!0,onChange:O},h)),r.a.createElement("div",null,r.a.createElement(g.a,{variant:"info",className:"rent",onClick:w,"data-id":e._id},"Rent"),r.a.createElement(g.a,{variant:"danger",className:"delete",onClick:j,"data-id":e._id},"Delete")))))})))}var N=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={text:"Click me!",additional:"",tamp:"",active:!1},n.handlerClickBtn=n.handlerClickBtn.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/").then((function(e){return e.text()})).then((function(t){return e.setState({additional:t,tamp:t})})).catch((function(e){return e}))}},{key:"handlerClickBtn",value:function(){var e=this;this.setState((function(){return e.state.active?{text:"Click me!",active:!e.state.active,additional:e.state.tamp}:{text:"Unclick me!",active:!e.state.active,additional:""}}))}},{key:"render",value:function(){return r.a.createElement(k.a,null,r.a.createElement("h1",null,"Awesome bike rental"),r.a.createElement("form",{className:"App"},r.a.createElement(w,null)),r.a.createElement(O,null),r.a.createElement(x,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.cf6b4f4a.chunk.js.map